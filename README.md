# CS2-PoorRTV
CS2 RockTheVote + Nominate plugin for CounterStrikeSharp written in C#. It is my first ever work made in C# so probably most of it doesn't have any sense, could be done better etc but it does somehow work.
Sometimes I took some pattern of some code from other open-source plugins such as:
- [Mapchooser by Justinnobledev](https://github.com/justinnobledev/cs2-mapchooser)
- [Abnerfs RTV](https://github.com/abnerfs/cs2-rockthevote) <br>
( Probably more plugin but I do not really remember from which plugins so sorry about that :< )

## [📝] Commands:
- !rtv
- !nominate

## [📌] Requirements:
- [CounterStrikeSharp](https://github.com/roflmuffin/CounterStrikeSharp)  
- [PlayerSettings](https://github.com/NickFox007/PlayerSettingsCS2)
- [AnyBaseLibCS2](https://github.com/NickFox007/AnyBaseLibCS2)
- [MenuManagerCS2](https://github.com/NickFox007/MenuManagerCS2)

## [⚙️] Installation:
- Upload compiled files into plugins folder,
- Restart server,
- There should be config file created in configs/,
- Configure the config file,
- Restart server again,

```
  "Percentage": 50, // Int - Percentage how many players have to vote to start vote by !rtv
  "Nominate": true, // Bool - If command !nominate is going to be on
  "TimeToVote": 10, // Float - How much seconds players have to vote
  "DisplayMaps": 6, // Int - How many maps have to be displayed in menu while voting
  "IncludeLast": false, // Bool - If last played map has to be included in voting menu
  "IncludeLastX": 3, // Int - How many last played maps have to be not included in voting menu
  "Shuffle": true, // Bool - Do you want to shuffle the maps
  "MenuType": "Button", // DefaultMenu, ButtonMenu, CenterMenu, ConsoleMenu, ChatMenu, (ButtonMenu is bugged, one player can vote for many maps. Best that works fine are ChatMenu and Centermenu in my opinion.)
  "Debug": true, // Bool - Do you want your console to be spammed with some random stuff
  "ConfigVersion": 1 // Do not touch I guess
```

## [✨] Features:
- RockTheVote based on percentage how many players voted,
- Nominate,
- Autogenerated config and maplist.txt file,
- Shuffle maps,
- Exclude last map from rtv list,
- Exclude last X maps from rtv list,
- Vote 2 minutes before map ends (might be bugged a little when server is empty),
- Thanks to MenuManager you can change type of the menu (for now not accesible through config file, so it must be hardcoded and then recompiled),

### [🗂️] Probably better alternatives:
- [Fork of Abnerfs CS2-RTV by Oz-Lin](https://github.com/Oz-Lin/cs2-rockthevote)
- [GG1MapChooser by ssypchenko](https://github.com/ssypchenko/GG1MapChooser)
- [Mapchooser by Justinnobledev](https://github.com/justinnobledev/cs2-mapchooser)

### [📋] ToDo:
- ~~Changing type of menu through config file.~~

### [❓] FAQ:
- **Is it better from other plugins?** <br>
I don't know, probably not. I know that I tried to fix some issues when map wouldn't change and RTV was blocked like it used to do in Abner on Surf servers where there are no rounds.
- **Why should I use this one instead of other ones?** <br>
I think you should not use this instead of other ones. This plugin was purely made for fun and to learn some basic stuff how C# works. I have no experience in C and C# languages. I have tested it a little bit alone and it worked fine but of course there might be bugs, issues and stuff going around. If so, please report them in **issues** tab on github or even better if someone more experienced would like to help, explain errors and fix some code I would really appreciate that. 